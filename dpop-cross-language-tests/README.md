# DPoP Cross-Language E2E Tests

This directory contains end-to-end tests that verify DPoP proof interoperability across all language implementations:

- **Rust** (rust-oauth-dpop)
- **Go** (go-oauth-dpop)
- **Python** (python-oauth-dpop)
- **Java** (java-oauth-dpop)

## Test Matrix

Each language implementation can:
1. **Generate** a DPoP proof with its keypair
2. **Validate** a proof generated by any other language

The test matrix covers all 16 combinations (4 generators Ã— 4 validators).

## Running Tests

```bash
./run-cross-language-tests.sh
```

## Test Protocol

1. Each language generates a proof and writes to `proofs/{lang}_proof.json`:
   ```json
   {
     "proof": "eyJ0eXAi...",
     "thumbprint": "abc123...",
     "method": "POST",
     "target": "https://cross-test.example.com/token"
   }
   ```

2. Each language reads proofs from other languages and validates them

3. Results are collected and a matrix is printed showing pass/fail for each combination

## Requirements

- Rust (cargo)
- Go 1.21+
- Python 3.9+ with cryptography
- Java 11+ with Gradle
