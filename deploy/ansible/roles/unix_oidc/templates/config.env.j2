# unix-oidc configuration
# Managed by Ansible - Do not edit manually

# OIDC Issuer URL (Required)
OIDC_ISSUER={{ unix_oidc_issuer }}

# OIDC Client ID
OIDC_CLIENT_ID={{ unix_oidc_client_id }}

# Token lifetime in seconds
TOKEN_LIFETIME={{ unix_oidc_token_lifetime }}

# Enable DPoP (Demonstrating Proof of Possession)
ENABLE_DPOP={{ unix_oidc_enable_dpop | lower }}

{% if unix_oidc_required_acr | length > 0 %}
# Required Authentication Context Class Reference
REQUIRED_ACR={{ unix_oidc_required_acr }}
{% endif %}

{% if unix_oidc_allowed_groups | length > 0 %}
# Allowed groups (comma-separated)
ALLOWED_GROUPS={{ unix_oidc_allowed_groups | join(',') }}
{% endif %}

# Log level (debug, info, warn, error)
LOG_LEVEL={{ unix_oidc_log_level }}

# SSL certificate verification
VERIFY_SSL={{ unix_oidc_verify_ssl | lower }}

{% if unix_oidc_custom_claims %}
# Custom claims mapping
{% for key, value in unix_oidc_custom_claims.items() %}
CLAIM_{{ key | upper }}={{ value }}
{% endfor %}
{% endif %}
