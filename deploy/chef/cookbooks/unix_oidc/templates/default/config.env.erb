# unix-oidc configuration
# Managed by Chef - do not edit manually

# OIDC Issuer URL (required)
OIDC_ISSUER=<%= @issuer %>

# OIDC Client ID
OIDC_CLIENT_ID=<%= @client_id %>

# Enable DPoP (Demonstrating Proof of Possession)
OIDC_ENABLE_DPOP=<%= @enable_dpop %>

# Log level (debug, info, warn, error)
OIDC_LOG_LEVEL=<%= @log_level %>

# Token cache directory
OIDC_CACHE_DIR=<%= @cache_dir %>

<% if @claim_mappings && !@claim_mappings.empty? -%>
# Custom claim mappings
<% @claim_mappings.each do |claim, mapping| -%>
OIDC_CLAIM_<%= claim.upcase %>=<%= mapping %>
<% end -%>
<% end -%>

<% if @allowed_groups && !@allowed_groups.empty? -%>
# Allowed groups (comma-separated)
OIDC_ALLOWED_GROUPS=<%= @allowed_groups.join(',') %>
<% end -%>
